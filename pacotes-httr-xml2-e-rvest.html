<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R para jurimetria</title>
  <meta name="description" content="Template de relatório da ABJ.">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="R para jurimetria" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Template de relatório da ABJ." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R para jurimetria" />
  
  <meta name="twitter:description" content="Template de relatório da ABJ." />
  

<meta name="author" content="Associação Brasileira de Jurimetria">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="usando-o-inspect.html">
<link rel="next" href="melhores-praticas-para-web-scraping.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href='http://abj.org.br'><img src='https://raw.githubusercontent.com/abjur/tjspBook/master/abj_logo_cut.png' style="max-width:100%;"/></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Apresentação</a></li>
<li class="chapter" data-level="2" data-path="introducao.html"><a href="introducao.html"><i class="fa fa-check"></i><b>2</b> Introdução</a><ul>
<li class="chapter" data-level="2.1" data-path="o-que-e-jurimetria.html"><a href="o-que-e-jurimetria.html"><i class="fa fa-check"></i><b>2.1</b> O que é Jurimetria?</a></li>
<li class="chapter" data-level="2.2" data-path="tipos-de-estudo.html"><a href="tipos-de-estudo.html"><i class="fa fa-check"></i><b>2.2</b> Tipos de estudo</a><ul>
<li class="chapter" data-level="2.2.1" data-path="tipos-de-estudo.html"><a href="tipos-de-estudo.html#exemplo"><i class="fa fa-check"></i><b>2.2.1</b> Exemplo</a></li>
<li class="chapter" data-level="2.2.2" data-path="tipos-de-estudo.html"><a href="tipos-de-estudo.html#divisao-regional"><i class="fa fa-check"></i><b>2.2.2</b> Divisão regional</a></li>
<li class="chapter" data-level="2.2.3" data-path="tipos-de-estudo.html"><a href="tipos-de-estudo.html#qual-tipo-escolher"><i class="fa fa-check"></i><b>2.2.3</b> Qual tipo escolher?</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="estudo-1-camaras-criminais.html"><a href="estudo-1-camaras-criminais.html"><i class="fa fa-check"></i><b>2.3</b> Estudo 1: Câmaras criminais</a></li>
<li class="chapter" data-level="2.4" data-path="estudo-2-especializacao-de-varas-empresariais.html"><a href="estudo-2-especializacao-de-varas-empresariais.html"><i class="fa fa-check"></i><b>2.4</b> Estudo 2: Especialização de varas empresariais</a><ul>
<li class="chapter" data-level="2.4.1" data-path="estudo-2-especializacao-de-varas-empresariais.html"><a href="estudo-2-especializacao-de-varas-empresariais.html#contextualizacao"><i class="fa fa-check"></i><b>2.4.1</b> Contextualização</a></li>
<li class="chapter" data-level="2.4.2" data-path="estudo-2-especializacao-de-varas-empresariais.html"><a href="estudo-2-especializacao-de-varas-empresariais.html#desafio-adicional-cifra-oculta"><i class="fa fa-check"></i><b>2.4.2</b> Desafio adicional: cifra oculta</a></li>
<li class="chapter" data-level="2.4.3" data-path="estudo-2-especializacao-de-varas-empresariais.html"><a href="estudo-2-especializacao-de-varas-empresariais.html#voltando-a-complexidade"><i class="fa fa-check"></i><b>2.4.3</b> Voltando à complexidade</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="estudo-3-captchas.html"><a href="estudo-3-captchas.html"><i class="fa fa-check"></i><b>2.5</b> Estudo 3: CAPTCHAs</a></li>
<li class="chapter" data-level="2.6" data-path="cuidado.html"><a href="cuidado.html"><i class="fa fa-check"></i><b>2.6</b> Cuidado</a></li>
<li class="chapter" data-level="2.7" data-path="organizacao-do-curso.html"><a href="organizacao-do-curso.html"><i class="fa fa-check"></i><b>2.7</b> Organização do curso</a></li>
<li class="chapter" data-level="2.8" data-path="configuracao-necessaria-para-o-curso.html"><a href="configuracao-necessaria-para-o-curso.html"><i class="fa fa-check"></i><b>2.8</b> Configuração necessária para o curso</a><ul>
<li class="chapter" data-level="2.8.1" data-path="configuracao-necessaria-para-o-curso.html"><a href="configuracao-necessaria-para-o-curso.html#pacotes"><i class="fa fa-check"></i><b>2.8.1</b> Pacotes</a></li>
<li class="chapter" data-level="2.8.2" data-path="configuracao-necessaria-para-o-curso.html"><a href="configuracao-necessaria-para-o-curso.html#fork-e-upstream-experimental"><i class="fa fa-check"></i><b>2.8.2</b> Fork e upstream (experimental)</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="suas-tarefas-para-1701-demora-30-min.html"><a href="suas-tarefas-para-1701-demora-30-min.html"><i class="fa fa-check"></i><b>2.9</b> Suas tarefas para 17/01 (demora 30 min)</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="importacao-de-dados.html"><a href="importacao-de-dados.html"><i class="fa fa-check"></i><b>3</b> Importação de dados</a><ul>
<li class="chapter" data-level="3.0.1" data-path="importacao-de-dados.html"><a href="importacao-de-dados.html#setup"><i class="fa fa-check"></i><b>3.0.1</b> Setup</a></li>
<li class="chapter" data-level="3.1" data-path="pipe.html"><a href="pipe.html"><i class="fa fa-check"></i><b>3.1</b> Pipe <code>%&gt;%</code></a><ul>
<li class="chapter" data-level="3.1.1" data-path="pipe.html"><a href="pipe.html#receita-de-bolo"><i class="fa fa-check"></i><b>3.1.1</b> Receita de bolo</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="usando-o-inspect.html"><a href="usando-o-inspect.html"><i class="fa fa-check"></i><b>3.2</b> Usando o Inspect</a></li>
<li class="chapter" data-level="3.3" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html"><i class="fa fa-check"></i><b>3.3</b> Pacotes <code>httr</code>, <code>xml2</code> e <code>rvest</code></a><ul>
<li class="chapter" data-level="3.3.1" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html#get-e-post"><i class="fa fa-check"></i><b>3.3.1</b> <code>GET</code> e <code>POST</code></a></li>
<li class="chapter" data-level="3.3.2" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html#exercicios"><i class="fa fa-check"></i><b>3.3.2</b> Exercícios</a></li>
<li class="chapter" data-level="3.3.3" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html#sessoes-e-cookies"><i class="fa fa-check"></i><b>3.3.3</b> Sessões e cookies</a></li>
<li class="chapter" data-level="3.3.4" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html#outras-funcoes-do-httr"><i class="fa fa-check"></i><b>3.3.4</b> Outras funções do <code>httr</code></a></li>
<li class="chapter" data-level="3.3.5" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html#principais-funcoes-do-rvest"><i class="fa fa-check"></i><b>3.3.5</b> Principais funções do <code>rvest</code></a></li>
<li class="chapter" data-level="3.3.6" data-path="pacotes-httr-xml2-e-rvest.html"><a href="pacotes-httr-xml2-e-rvest.html#css-path-e-xpath"><i class="fa fa-check"></i><b>3.3.6</b> CSS path e XPath</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="melhores-praticas-para-web-scraping.html"><a href="melhores-praticas-para-web-scraping.html"><i class="fa fa-check"></i><b>3.4</b> Melhores práticas para web scraping</a><ul>
<li class="chapter" data-level="3.4.1" data-path="melhores-praticas-para-web-scraping.html"><a href="melhores-praticas-para-web-scraping.html#informacoes-iniciais"><i class="fa fa-check"></i><b>3.4.1</b> Informações iniciais</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="listando-processos.html"><a href="listando-processos.html"><i class="fa fa-check"></i><b>3.5</b> Listando processos</a></li>
<li class="chapter" data-level="3.6" data-path="usando-o-esaj-para-listar-processos.html"><a href="usando-o-esaj-para-listar-processos.html"><i class="fa fa-check"></i><b>3.6</b> Usando o <code>esaj</code> para listar processos</a><ul>
<li class="chapter" data-level="3.6.1" data-path="usando-o-esaj-para-listar-processos.html"><a href="usando-o-esaj-para-listar-processos.html#pesquisa-por-palavras-chave"><i class="fa fa-check"></i><b>3.6.1</b> Pesquisa por palavras-chave</a></li>
<li class="chapter" data-level="3.6.2" data-path="usando-o-esaj-para-listar-processos.html"><a href="usando-o-esaj-para-listar-processos.html#pesquisa-por-datas"><i class="fa fa-check"></i><b>3.6.2</b> Pesquisa por datas</a></li>
<li class="chapter" data-level="3.6.3" data-path="usando-o-esaj-para-listar-processos.html"><a href="usando-o-esaj-para-listar-processos.html#tabelas-de-classes-assuntos-e-camaras"><i class="fa fa-check"></i><b>3.6.3</b> Tabelas de classes, assuntos e câmaras</a></li>
<li class="chapter" data-level="3.6.4" data-path="usando-o-esaj-para-listar-processos.html"><a href="usando-o-esaj-para-listar-processos.html#a-funcao-download_cjsg"><i class="fa fa-check"></i><b>3.6.4</b> A função <code>download_cjsg</code></a></li>
<li class="chapter" data-level="3.6.5" data-path="usando-o-esaj-para-listar-processos.html"><a href="usando-o-esaj-para-listar-processos.html#exercicios-1"><i class="fa fa-check"></i><b>3.6.5</b> Exercícios</a></li>
<li class="chapter" data-level="3.6.6" data-path="usando-o-esaj-para-listar-processos.html"><a href="usando-o-esaj-para-listar-processos.html#arrumando-os-dados"><i class="fa fa-check"></i><b>3.6.6</b> Arrumando os dados</a></li>
<li class="chapter" data-level="3.6.7" data-path="usando-o-esaj-para-listar-processos.html"><a href="usando-o-esaj-para-listar-processos.html#exercicios-2"><i class="fa fa-check"></i><b>3.6.7</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="usando-o-dje-para-listar-processos.html"><a href="usando-o-dje-para-listar-processos.html"><i class="fa fa-check"></i><b>3.7</b> Usando o <code>dje</code> para listar processos</a><ul>
<li class="chapter" data-level="3.7.1" data-path="usando-o-dje-para-listar-processos.html"><a href="usando-o-dje-para-listar-processos.html#exercicio"><i class="fa fa-check"></i><b>3.7.1</b> Exercício</a></li>
<li class="chapter" data-level="3.7.2" data-path="usando-o-dje-para-listar-processos.html"><a href="usando-o-dje-para-listar-processos.html#parse-dje"><i class="fa fa-check"></i><b>3.7.2</b> Parse DJE</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="baixando-documentos.html"><a href="baixando-documentos.html"><i class="fa fa-check"></i><b>3.8</b> Baixando documentos</a><ul>
<li class="chapter" data-level="3.8.1" data-path="baixando-documentos.html"><a href="baixando-documentos.html#download-cposg"><i class="fa fa-check"></i><b>3.8.1</b> Download CPOSG</a></li>
<li class="chapter" data-level="3.8.2" data-path="baixando-documentos.html"><a href="baixando-documentos.html#baixando-decisoes"><i class="fa fa-check"></i><b>3.8.2</b> Baixando decisões</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="processando-documentos.html"><a href="processando-documentos.html"><i class="fa fa-check"></i><b>3.9</b> Processando documentos</a><ul>
<li class="chapter" data-level="3.9.1" data-path="processando-documentos.html"><a href="processando-documentos.html#parse-cposg"><i class="fa fa-check"></i><b>3.9.1</b> Parse CPOSG</a></li>
<li class="chapter" data-level="3.9.2" data-path="processando-documentos.html"><a href="processando-documentos.html#exercicios-3"><i class="fa fa-check"></i><b>3.9.2</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="pacote-abjutils.html"><a href="pacote-abjutils.html"><i class="fa fa-check"></i><b>3.10</b> Pacote <code>abjutils</code></a><ul>
<li class="chapter" data-level="3.10.1" data-path="pacote-abjutils.html"><a href="pacote-abjutils.html#trabalhando-com-numeros-de-processos"><i class="fa fa-check"></i><b>3.10.1</b> Trabalhando com números de processos</a></li>
<li class="chapter" data-level="3.10.2" data-path="pacote-abjutils.html"><a href="pacote-abjutils.html#trabalhando-com-acentos"><i class="fa fa-check"></i><b>3.10.2</b> Trabalhando com acentos</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="wrap-up.html"><a href="wrap-up.html"><i class="fa fa-check"></i><b>3.11</b> Wrap-up</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="transformacao-de-dados-1.html"><a href="transformacao-de-dados-1.html"><i class="fa fa-check"></i><b>4</b> Transformação de dados 1</a><ul>
<li class="chapter" data-level="4.0.1" data-path="transformacao-de-dados-1.html"><a href="transformacao-de-dados-1.html#setup-1"><i class="fa fa-check"></i><b>4.0.1</b> Setup</a></li>
<li class="chapter" data-level="4.1" data-path="revisao.html"><a href="revisao.html"><i class="fa fa-check"></i><b>4.1</b> Revisão</a></li>
<li class="chapter" data-level="4.2" data-path="pacote-lubridate-para-datas.html"><a href="pacote-lubridate-para-datas.html"><i class="fa fa-check"></i><b>4.2</b> Pacote <code>lubridate</code> para datas</a><ul>
<li class="chapter" data-level="4.2.1" data-path="pacote-lubridate-para-datas.html"><a href="pacote-lubridate-para-datas.html#exercicios-4"><i class="fa fa-check"></i><b>4.2.1</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="pacote-stringr-para-trabalhar-com-textos.html"><a href="pacote-stringr-para-trabalhar-com-textos.html"><i class="fa fa-check"></i><b>4.3</b> Pacote <code>stringr</code> para trabalhar com textos</a><ul>
<li class="chapter" data-level="4.3.1" data-path="pacote-stringr-para-trabalhar-com-textos.html"><a href="pacote-stringr-para-trabalhar-com-textos.html#regras-basicas"><i class="fa fa-check"></i><b>4.3.1</b> Regras básicas</a></li>
<li class="chapter" data-level="4.3.2" data-path="pacote-stringr-para-trabalhar-com-textos.html"><a href="pacote-stringr-para-trabalhar-com-textos.html#funcoes-do-stringr"><i class="fa fa-check"></i><b>4.3.2</b> Funções do <code>stringr</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="expressoes-regulares.html"><a href="expressoes-regulares.html"><i class="fa fa-check"></i><b>4.4</b> Expressões regulares</a><ul>
<li class="chapter" data-level="4.4.1" data-path="expressoes-regulares.html"><a href="expressoes-regulares.html#quantificadores"><i class="fa fa-check"></i><b>4.4.1</b> Quantificadores</a></li>
<li class="chapter" data-level="4.4.2" data-path="expressoes-regulares.html"><a href="expressoes-regulares.html#conjuntos"><i class="fa fa-check"></i><b>4.4.2</b> Conjuntos</a></li>
<li class="chapter" data-level="4.4.3" data-path="expressoes-regulares.html"><a href="expressoes-regulares.html#miscelanea"><i class="fa fa-check"></i><b>4.4.3</b> Miscelânea</a></li>
<li class="chapter" data-level="4.4.4" data-path="expressoes-regulares.html"><a href="expressoes-regulares.html#outros-links"><i class="fa fa-check"></i><b>4.4.4</b> Outros links</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="exemplo-decisoes-das-camaras.html"><a href="exemplo-decisoes-das-camaras.html"><i class="fa fa-check"></i><b>4.5</b> Exemplo: decisões das câmaras</a></li>
<li class="chapter" data-level="4.6" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html"><i class="fa fa-check"></i><b>4.6</b> Pacotes <code>dplyr</code> e <code>tidyr</code></a><ul>
<li class="chapter" data-level="4.6.1" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#caracteristicas-do-dplyr"><i class="fa fa-check"></i><b>4.6.1</b> Características do <code>dplyr</code></a></li>
<li class="chapter" data-level="4.6.2" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#as-cinco-funcoes-principais"><i class="fa fa-check"></i><b>4.6.2</b> As cinco funções principais</a></li>
<li class="chapter" data-level="4.6.3" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#select"><i class="fa fa-check"></i><b>4.6.3</b> <code>select</code></a></li>
<li class="chapter" data-level="4.6.4" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#filter"><i class="fa fa-check"></i><b>4.6.4</b> <code>filter</code></a></li>
<li class="chapter" data-level="4.6.5" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#mutate"><i class="fa fa-check"></i><b>4.6.5</b> <code>mutate</code></a></li>
<li class="chapter" data-level="4.6.6" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#arrange"><i class="fa fa-check"></i><b>4.6.6</b> <code>arrange</code></a></li>
<li class="chapter" data-level="4.6.7" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#summarise"><i class="fa fa-check"></i><b>4.6.7</b> <code>summarise</code></a></li>
<li class="chapter" data-level="4.6.8" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#gather"><i class="fa fa-check"></i><b>4.6.8</b> <code>gather</code></a></li>
<li class="chapter" data-level="4.6.9" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#spread"><i class="fa fa-check"></i><b>4.6.9</b> <code>spread</code></a></li>
<li class="chapter" data-level="4.6.10" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#funcoes-auxiliares"><i class="fa fa-check"></i><b>4.6.10</b> Funções auxiliares</a></li>
<li class="chapter" data-level="4.6.11" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#nest-e-unnest"><i class="fa fa-check"></i><b>4.6.11</b> <code>nest</code> e <code>unnest</code></a></li>
<li class="chapter" data-level="4.6.12" data-path="pacotes-dplyr-e-tidyr.html"><a href="pacotes-dplyr-e-tidyr.html#um-pouco-mais-de-transformacao-de-dados"><i class="fa fa-check"></i><b>4.6.12</b> Um pouco mais de transformação de dados</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="finalizando-analise-das-camaras.html"><a href="finalizando-analise-das-camaras.html"><i class="fa fa-check"></i><b>4.7</b> Finalizando análise das câmaras</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="transformacao-de-dados-2.html"><a href="transformacao-de-dados-2.html"><i class="fa fa-check"></i><b>5</b> Transformação de dados 2</a><ul>
<li class="chapter" data-level="5.0.1" data-path="transformacao-de-dados-2.html"><a href="transformacao-de-dados-2.html#na-ultima-vez"><i class="fa fa-check"></i><b>5.0.1</b> Na última vez</a></li>
<li class="chapter" data-level="5.0.2" data-path="transformacao-de-dados-2.html"><a href="transformacao-de-dados-2.html#setup-2"><i class="fa fa-check"></i><b>5.0.2</b> Setup</a></li>
<li class="chapter" data-level="5.1" data-path="funcoes-do-tidyr.html"><a href="funcoes-do-tidyr.html"><i class="fa fa-check"></i><b>5.1</b> Funções do <code>tidyr</code></a><ul>
<li class="chapter" data-level="5.1.1" data-path="funcoes-do-tidyr.html"><a href="funcoes-do-tidyr.html#gather-1"><i class="fa fa-check"></i><b>5.1.1</b> <code>gather</code></a></li>
<li class="chapter" data-level="5.1.2" data-path="funcoes-do-tidyr.html"><a href="funcoes-do-tidyr.html#spread-1"><i class="fa fa-check"></i><b>5.1.2</b> <code>spread</code></a></li>
<li class="chapter" data-level="5.1.3" data-path="funcoes-do-tidyr.html"><a href="funcoes-do-tidyr.html#unindo-e-separando-colunas"><i class="fa fa-check"></i><b>5.1.3</b> Unindo e separando colunas</a></li>
<li class="chapter" data-level="5.1.4" data-path="funcoes-do-tidyr.html"><a href="funcoes-do-tidyr.html#list-columns-nest-e-unnest"><i class="fa fa-check"></i><b>5.1.4</b> List columns: <code>nest</code> e <code>unnest</code></a></li>
<li class="chapter" data-level="5.1.5" data-path="funcoes-do-tidyr.html"><a href="funcoes-do-tidyr.html#joins"><i class="fa fa-check"></i><b>5.1.5</b> Joins</a></li>
<li class="chapter" data-level="5.1.6" data-path="funcoes-do-tidyr.html"><a href="funcoes-do-tidyr.html#duplicatas"><i class="fa fa-check"></i><b>5.1.6</b> Duplicatas</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="finalizando-analise-das-camaras-1.html"><a href="finalizando-analise-das-camaras-1.html"><i class="fa fa-check"></i><b>5.2</b> Finalizando análise das câmaras</a><ul>
<li class="chapter" data-level="5.2.1" data-path="finalizando-analise-das-camaras-1.html"><a href="finalizando-analise-das-camaras-1.html#como-se-distribuem-os-assuntos-em-cada-camara"><i class="fa fa-check"></i><b>5.2.1</b> Como se distribuem os assuntos em cada câmara?</a></li>
<li class="chapter" data-level="5.2.2" data-path="finalizando-analise-das-camaras-1.html"><a href="finalizando-analise-das-camaras-1.html#quantas-decisoes-proferidas-por-semana"><i class="fa fa-check"></i><b>5.2.2</b> Quantas decisões proferidas por semana?</a></li>
<li class="chapter" data-level="5.2.3" data-path="finalizando-analise-das-camaras-1.html"><a href="finalizando-analise-das-camaras-1.html#qual-a-proporcao-de-decisoes-por-camara"><i class="fa fa-check"></i><b>5.2.3</b> Qual a proporção de decisões por câmara?</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="purrr.html"><a href="purrr.html"><i class="fa fa-check"></i><b>5.3</b> purrr</a><ul>
<li class="chapter" data-level="5.3.1" data-path="purrr.html"><a href="purrr.html#iteracoes-basicas"><i class="fa fa-check"></i><b>5.3.1</b> Iterações básicas</a></li>
<li class="chapter" data-level="5.3.2" data-path="purrr.html"><a href="purrr.html#iteracoes-intermediarias"><i class="fa fa-check"></i><b>5.3.2</b> Iterações intermediárias</a></li>
<li class="chapter" data-level="5.3.3" data-path="purrr.html"><a href="purrr.html#iteracoes-avancadas"><i class="fa fa-check"></i><b>5.3.3</b> Iterações avançadas</a></li>
<li class="chapter" data-level="5.3.4" data-path="purrr.html"><a href="purrr.html#reducao-e-acumulo"><i class="fa fa-check"></i><b>5.3.4</b> Redução e acúmulo</a></li>
<li class="chapter" data-level="5.3.5" data-path="purrr.html"><a href="purrr.html#miscelanea-1"><i class="fa fa-check"></i><b>5.3.5</b> Miscelânea</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="exemplo-formatando-arquivos.html"><a href="exemplo-formatando-arquivos.html"><i class="fa fa-check"></i><b>5.4</b> Exemplo: formatando arquivos</a></li>
<li class="chapter" data-level="5.5" data-path="calculando-tempos-e-intervalos-de-tempo.html"><a href="calculando-tempos-e-intervalos-de-tempo.html"><i class="fa fa-check"></i><b>5.5</b> Calculando tempos e intervalos de tempo</a><ul>
<li class="chapter" data-level="5.5.1" data-path="calculando-tempos-e-intervalos-de-tempo.html"><a href="calculando-tempos-e-intervalos-de-tempo.html#estatisticas-de-movimentacoes"><i class="fa fa-check"></i><b>5.5.1</b> estatísticas de movimentações</a></li>
<li class="chapter" data-level="5.5.2" data-path="calculando-tempos-e-intervalos-de-tempo.html"><a href="calculando-tempos-e-intervalos-de-tempo.html#calculando-intervalos-de-tempo"><i class="fa fa-check"></i><b>5.5.2</b> Calculando intervalos de tempo</a></li>
<li class="chapter" data-level="5.5.3" data-path="calculando-tempos-e-intervalos-de-tempo.html"><a href="calculando-tempos-e-intervalos-de-tempo.html#resultados"><i class="fa fa-check"></i><b>5.5.3</b> Resultados</a></li>
<li class="chapter" data-level="5.5.4" data-path="calculando-tempos-e-intervalos-de-tempo.html"><a href="calculando-tempos-e-intervalos-de-tempo.html#wrap-up-de-hoje"><i class="fa fa-check"></i><b>5.5.4</b> Wrap-up de hoje</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="work-in-progress.html"><a href="work-in-progress.html"><i class="fa fa-check"></i><b>6</b> Work in progress</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R para jurimetria</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pacotes-httr-xml2-e-rvest" class="section level2">
<h2><span class="header-section-number">3.3</span> Pacotes <code>httr</code>, <code>xml2</code> e <code>rvest</code></h2>
<p>Esses são os três pacotes mais modernos do R para fazer web scraping.</p>
<p>O pacote <code>xml2</code> tem a finalidade de estruturar arquivos HTML ou XML de forma eficiente, tornando possível a obtenção de <em>tags</em> e seus atributos dentro de um arquivo. Já o pacote <code>httr</code> é responsável por realizar requisições web para obtenção das páginas de interesse, buscando reduzir ao máximo a complexidade da programação. O pacote <code>rvest</code> é escrito <strong>sobre</strong> os dois anteriores e por isso eleva ainda mais o nível de especialização para raspagem de dados.</p>
<p>A utilização dos pacotes tem uma <strong>regra de bolso</strong>. Para trabalhar com páginas simples, basta carregar o <code>rvest</code> e utilizar suas funcionalidades. Caso o acesso à página exija ações mais complexas e/ou artifícios de ferramentas web, será necessário utilizar o <code>httr</code>. O <code>xml2</code> só será usado explicitamente nos casos em que a página está em XML.</p>
<p>Esses pacotes <strong>não</strong> são suficientes para acessar todo tipo de conteúdo da web. Um exemplo claro disso são páginas em que o conteúdo é produzido por <code>javascript</code>, o que acontece em alguns sites modernos. Para trabalhar com esses sites, é necessário realmente “simular” um navegador que acessa a página web. Uma das melhores ferramentas para isso é o <code>selenium</code>. Não discutiremos <code>selenium</code> nesse curso, mas caso queira se aprofundar, acesse <a href="http://www.seleniumhq.org/">aqui</a> e o pacote <code>RSelenium</code>.</p>
<div id="get-e-post" class="section level3">
<h3><span class="header-section-number">3.3.1</span> <code>GET</code> e <code>POST</code></h3>
<p>Uma requisição GET envia uma <code>url</code> ao servidor, possivelmente com alguns parâmetros nessa <code>url</code> (que ficam no final da <code>url</code> depois do <code>?</code>). O servidor, por sua vez, recebe essa <code>url</code>, processa os parâmetros e retorna uma página HTML para o navegador<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>.</p>
<p>A requisição <code>POST</code>, no entanto, envia uma <code>url</code> não modificada para o servidor, mas envia também uma lista de dados preenchidos pelo usuário, que podem ser números, textos ou até imagens. Na maioria dos casos, ao submeter um formulário de um site, fazemos uma requisição <code>POST</code>.</p>
<p>O <code>httr</code> possui os métodos <code>GET</code> e <code>POST</code> implementados e são muito similares. A lista de parâmetros enviados pelo usuário pode ser armazenado numa <code>list</code> nomeada, e adicionado ao <code>GET</code> pelo parâmetro <code>query</code> ou no <code>POST</code> pelo parâmetro <code>body</code>.</p>
<p>Exemplo de <code>GET</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">httr::<span class="kw">GET</span>(<span class="st">&quot;http://google.com/search&quot;</span>, <span class="dt">query =</span> <span class="kw">list</span>(<span class="dt">q =</span> <span class="st">&quot;jurimetria&quot;</span>))</code></pre></div>
<pre><code>#&gt; Response [http://www.google.com/search?q=jurimetria]
#&gt;   Date: 2018-01-22 10:16
#&gt;   Status: 200
#&gt;   Content-Type: text/html; charset=ISO-8859-1
#&gt;   Size: 41.2 kB
#&gt; &lt;!doctype html&gt;&lt;html itemscope=&quot;&quot; itemtype=&quot;http://schema.org/SearchResu...
#&gt; statistics, to law. The subject has gained considerable currency in both...
#&gt; States and Brazil. In the United States, the journal Jurimetrics is publ...
#&gt; American Bar Association and Arizona State University. In Brazil, the fi...
#&gt; focus&amp;nbsp;...&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;g&quot;&gt;&lt;h3 class=&quot;r&quot;&gt;&lt;a hre...
#&gt; no Direito. Índice. [esconder]. 1 Histórico; 2 Os Três Prismas da &lt;b&gt;Jur...
#&gt; Elaboração Legislativa e Gestão Pública; 2.2 A Decisão Judicial; 2.3 A I...
#&gt; Probatória. 3 &lt;b&gt;Jurimetria&lt;/b&gt; vs Law and Economics; 4 Referências; 5 L...
#&gt; bem como tece considerações e sugestões relevantes de aplicações prática...
#&gt; teóricas do tema. É proposta a divisão da &lt;b&gt;jurimetria&lt;/b&gt; em três pris...
#&gt; ...</code></pre>
<p>Exemplo de <code>POST</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">httr::<span class="kw">POST</span>(<span class="st">&quot;http://httpbin.org/post&quot;</span>, 
           <span class="dt">body =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="st">&quot;Mãe to na request&quot;</span>), 
           <span class="dt">encode =</span> <span class="st">&quot;json&quot;</span>)</code></pre></div>
<pre><code>#&gt; Response [http://httpbin.org/post]
#&gt;   Date: 2018-01-22 10:16
#&gt;   Status: 200
#&gt;   Content-Type: application/json
#&gt;   Size: 528 B
#&gt; {
#&gt;   &quot;args&quot;: {}, 
#&gt;   &quot;data&quot;: &quot;{\&quot;x\&quot;:\&quot;M\u00e3e to na request\&quot;}&quot;, 
#&gt;   &quot;files&quot;: {}, 
#&gt;   &quot;form&quot;: {}, 
#&gt;   &quot;headers&quot;: {
#&gt;     &quot;Accept&quot;: &quot;application/json, text/xml, application/xml, */*&quot;, 
#&gt;     &quot;Accept-Encoding&quot;: &quot;gzip, deflate&quot;, 
#&gt;     &quot;Connection&quot;: &quot;close&quot;, 
#&gt;     &quot;Content-Length&quot;: &quot;26&quot;, 
#&gt; ...</code></pre>
</div>
<div id="exercicios" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Exercícios</h3>
<p>Use o Inspect:</p>
<ol style="list-style-type: decimal">
<li>Qual o método usado na pesquisa de jurisprudência do TJSP?</li>
<li>Qual o método usado na busca avançada de diários de justiça do TJSP?</li>
</ol>
</div>
<div id="sessoes-e-cookies" class="section level3">
<h3><span class="header-section-number">3.3.3</span> Sessões e cookies</h3>
<p>No momento que acessamos uma página web, o navegador baixa alguns arquivos que identificam nosso acesso à página. Esses arquivos são chamados cookies e são usados pelos sites para realizar diversas atividades, como carregar uma página pré-definida pelo usuário caso este acesse o site pela segunda vez ou fazer propagandas.</p>
<p>O <code>httr</code> e o <code>rvest</code> já guardam esses cookies de forma automática, de forma que o usuário não precise sa preocupar com isso. Em casos raros, para construir o web scraper é necessário modificar esses cookies. Nesses casos, estude a função <code>cookies()</code> do <code>httr</code>.</p>
</div>
<div id="outras-funcoes-do-httr" class="section level3">
<h3><span class="header-section-number">3.3.4</span> Outras funções do <code>httr</code></h3>
<p>Outras funções úteis:</p>
<ul>
<li><code>write_disk()</code> para escrever uma requisição direto em disco, além de guardar na memória RAM.</li>
<li><code>config()</code> para adicionar configurações adicionais. Por exemplo, quando acessar uma página <code>https</code> com certificados inadequados numa requisição GET, rode <code>GET('https://www...', config(ssl_verifypeer = FALSE))</code>.</li>
<li><code>oauth_app()</code> para trabalhar com APIs. Não discutiremos conexão com APIs nesse curso, mas é um importante conceito a ser estudado.</li>
</ul>
</div>
<div id="principais-funcoes-do-rvest" class="section level3">
<h3><span class="header-section-number">3.3.5</span> Principais funções do <code>rvest</code></h3>
<p><strong>Para acessar páginas da web:</strong></p>
<ul>
<li><code>html_session()</code> abre uma sessão do usuário (baixa página, carrega cookies etc).</li>
<li><code>follow_link()</code>, <code>jump_to()</code> acessa uma página web a partir de um link (tag <code>&lt;a&gt;</code>) ou url.</li>
<li><code>html_form()</code> carrega todos os formulários contidos numa página.</li>
<li><code>set_value()</code> atribui valores a parâmetros do formulário.</li>
<li><code>submit_form()</code> submete um formulário obtido em <code>html_form</code>.</li>
</ul>
<p><strong>Para trabalhar com arquivos HTML:</strong></p>
<ul>
<li><code>read_html()</code> lê o arquivo HTML de forma estruturada e facilita impressão.</li>
<li><code>html_nodes()</code> cria uma lista com os nós identificados por uma busca em CSS path ou XPath. <code>html_node()</code> é um caso especial que assume que só será encontrado um resultado.</li>
<li><code>html_text()</code> extrai todo o conteúdo de um objeto e retorna um texto.</li>
<li><code>html_table()</code> extrai o conteúdo de uma <code>&lt;table&gt;</code> e transforma em um <code>data_frame</code>.</li>
<li><code>html_attr()</code> extrai um atributo de uma tag, por exemplo <code>href</code> da tag <code>&lt;a&gt;</code>.</li>
</ul>
<p>Se quiser ver exemplos, entre em <a href="http://material.curso-r.com/scrape/" class="uri">http://material.curso-r.com/scrape/</a></p>
</div>
<div id="css-path-e-xpath" class="section level3">
<h3><span class="header-section-number">3.3.6</span> CSS path e XPath</h3>
<p>O CSS path e o XPath são formas distintas de buscar tags dentro de um documento HTML. O CSS path é mais simples de implementar e tem uma sintaxe menos verborrágica, mas o XPath é mais poderoso. A regra de bolso é tentar fazer a seleção primeiro em CSS e, caso não seja possível, implementar em XPath.</p>
<p>Esses paths serão mostrados <em>en passant</em> durante o curso, mas não serão abordados em detalhe. Caso queira se aprofundar no assunto, comece pela ajuda da função <code>?html_nodes</code>.</p>
<!-- ----------------------------------------------------------------------- -->
</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>para entender sobre server side e user side, acesse <a href="http://programmers.stackexchange.com/a/171210" title="diferencas">server side e user side</a>.<a href="pacotes-httr-xml2-e-rvest.html#fnref2">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="usando-o-inspect.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="melhores-praticas-para-web-scraping.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yihui/bookdown-crc/edit/master/02-import.Rmd",
"text": "Edit"
},
"download": ["bookdown.pdf"],
"toc": {
"collapse": "none"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
